<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
  <link rel="stylesheet" type="text/css" href="http://nuage.cs.washington.edu/main.css"/>

<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>UW N-body simulation dataset and benchmark</title>
</head><body>

<h1>UW N-body Simulation Dataset and Benchmark</h1>

<h2>News</h2>
<!-- summary of update goes here -->
<ul>
    <li>Aug 10, 2009: the benchmark and dataset goes online!</li>
</ul>

<h2>Contents</h2>
<ul>
    <li><a href="#background">Background</a></li>
    <li><a href="#dataset">Dataset</a></li>
    <li><a href="#analysis">Analysis</a>
    <ul>
        <li><a href="#adhoc">Ad-hoc analysis</a></li>
        <li><a href="#dfof">Distributed Friends-of-Friends (dFoF)</a></li>
    </ul>
</li>
<li><a href="#pub">Publications</a></li>
<li><a href="#ack">Acknowledgements</a></li>
</ul>

<h2><a name="background">Background: N-body simulation</a></h2>
N-body simulations are simulations of a system comprised of a large 
number ("N") of bodies that are under the influence of mutually-induced 
physical forces. For astrophysical simulations, the bodies represent 
packets of self-interacting fluids that model the material structure of 
the universe. 

Check out <a href="http://en.wikipedia.org/wiki/N-body_simulation">Wikipedia</a> for more detail.


<h2><a name="dataset">Dataset</a></h2>
<p>
The three benchmark datasets are generated by <a href="http://www-hpcc.astro.washington.edu/">N-body shop</a> research group at <a href="http://www.washington.edu">University of Washington</a>.
</p>

<table border="1">
    <caption><em>Summary of datasets</em></caption>
    <tr>
        <th>Dataset</th><th>Number of Particles</th><th>Number of Snapshots</th><th>Size of each snapshot</th><th>Total size</th>
    </tr>
    <tr align="right"><td>dbtest128g</td><td>4.2 million</td><td>128</td><td>169 MB</td><td>21 GB</td></tr>
    <tr align="right"><td>cosmo50</td><td>33.6 million</td><td>9</td><td>1.4 GB</td><td>12.6 GB</td></tr>
    <tr align="right"><td>cosmo25</td><td>916.8 million</td><td>2</td><td>36 GB</td><td>72 GB</td></tr>
</table>

<p>
The dataset is available only on request due to its volume. If you want to use the dataset, please contact <img src="email_dept.gif"> to arrange download.
</p>
<!--
<p>Please include XXX in the acknowledgement when you publish a paper using this dataset.</p>
-->

<h2><a name="analysis">Analysis</a></h2>

<h3><a name="adhoc">Ad-hoc analysis</a></h3>

In our <a href="#iasds09">IASDS 2009 paper</a>, we presented five types of queries that 
astrophysicists frequently ask over simulation data. The paper includes
detailed use-cases as well as benchmark result. We release the benchmark
scripts for <a href="http://hadoop.apache.org/pig/">Pig</a>/<a href="http://hadoop.apache.org">Hadoop</a>. For SQL queries, please refer page 6 of the <a href="#iasds09">IASDS 2009 paper</a>.

<ul>
    <li>Binary data parser for Pig 0.2.0 <a href="BinCosmoLoad.java">[.java]</a>,<a href="quark.jar">[.jar]</a></li>
    <li>Pig scripts <a href="iasds09scripts.zip">[.zip]</a></li>
</ul>

<h3><a name="dfof">Distributed Friends-of-Friends (dFoF)</a></h3>
<p>
The Friends-of-Friends algorithm (<a href="http://adsabs.harvard.edu/abs/1985ApJ...292..371D">FoF</a> and references therein) is a domain-specific clustering algorithm that is also a simplified version of the more general and commonly used DBSCAN algorithm. A concrete application that also uses FoF is kernel density estimation (KDE), which involves searching for all points whose kernel can contribute to the density at a given point.  In astrophysics, KDE techniques are used for object classification in a multi-dimensional parameter space of sky survey data.
</p>
<p>The distributed Friends-of-Friends (dFoF) is an optimized implementation of FoF algorithm running in shared-nothing computational platform such as <a href="http://hadoop.apache.org/">Hadoop</a> and <a href="http://research.microsoft.com/en-us/projects/Dryad/">Dryad</a>. Here we release an implementation using <a href="http://research.microsoft.com/en-us/projects/DryadLINQ/">DryadLINQ</a>.</p>

<ul>
<li>dFoF source code using <a href="http://research.microsoft.com/en-us/projects/DryadLINQ/">DryadLINQ</a> <a href="http://dFoF-DLinq.zip">[zip]</a> (does not include any binary!)</li>
<li>To compile and run this program, you first have to install Dryad and DryadLINQ. Please refer <a href="http://research.microsoft.com/en-us/collaboration/tools/dryad.aspx">this site</a> for download and license.</li>
</ul>

<h2><a name="pub">Publications</a></h2>
<ul>
    <li><a href="http://nuage.cs.washington.edu/pubs/iasds09.pdf" name="iasds09">Analyzing Massive Astrophysical Datasets: Can Pig/Hadoop or a Relational DBMS Help?</a><br/>
Sarah Loebman, Dylan Nunley, YongChul Kwon, Bill Howe, Magdalena Balazinska, and Jeffrey P. Gardner<br/>
To appear in IASDS 2009
    </li>
    <li><a href="ftp://ftp.cs.washington.edu/tr/2009/06/UW-CSE-09-06-01.PDF" name="dfof-tr">Scalable clustering algorithm for N-body simulations in a shared-nothing cluster</a><br/>
YongChul Kwon, Dylan Nunley, Jeffrey P. Gardner, Magdalena Balazinska, Bill Howe, and Sarah Loebman<br/>
University of Washington Technical Report. UW-CSE-09-06-01. June 2009</li>
</ul>


<h2><a name="ack">Acknowledgments</a></h2>
<p>
It is a pleasure to acknowledge the help we have received from Tom
Quinn, both during the project and in writing this publication.
Simulations "Cosmo25" and "Cosmo50" were graciously supplied by
Tom Quinn and Fabio Governato of the University of Washington
Department of Astronomy.  The simulations were produced using
allocations of advanced NSF--supported computing resources operated by
the Pittsburgh Supercomputing Center, NCSA, and the TeraGrid.
</p>
<p>
This work was funded in part by the NASA Advanced Information Systems
Research Program grants NNG06GE23G, NNX08AY72G, NSF CAREER award
IIS-0845397, NSF CRI grant CNS-0454425, the eScience Institute at the
University of Washington, gifts from Microsoft Research, and
Balazinska's Microsoft Research New Faculty Fellowship.
</p>

<p>
<a href="/" title="Back to Nuage Project">[Back to Nuage Project]</a>
</p>
</body></html>
